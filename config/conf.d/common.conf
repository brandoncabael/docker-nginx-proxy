server_name PLACEHOLDER_SERVER_NAME;

# Ensure timeouts are equal across browsers.
keepalive_timeout 60;

# Disallow access to hidden files and directories.
location ~ /\. {
  return 404;
  access_log off;
  log_not_found off;
}

# Attempt to load the favicon or fall back to status code 204.
location = /favicon.ico {
  try_files /favicon.ico = 204;
  access_log off;
  log_not_found off;
}

add_header 'Access-Control-Allow-Origin' "$http_origin";

# # This is for open-cors branch only!!!
# if ($http_origin ~* (PLACEHOLDER_CORS_ORIGIN_REGEX)) {
#   add_header 'Access-Control-Allow-Origin' "$http_origin";
#   # add_header 'Access-Control-Allow-Credentials' 'true' always;
#   # add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS' always;
#   # add_header 'Access-Control-Allow-Headers' 'Accept,Authorization,Cache-Control,Content-Type,DNT,If-Modified-Since,Keep-Alive,Origin,User-Agent,X-Requested-With' always;
# }

# location ~^/.* {
  
# }

include conf.d/locations.conf;